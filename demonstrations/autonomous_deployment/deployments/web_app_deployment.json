{
  "id": "web_app_deployment_001",
  "name": "Web Application Deployment",
  "description": "Zero-downtime deployment of web application with API and database",
  "version": "2.1.0",
  "targetEnvironment": "production",
  "components": [
    {
      "name": "web-frontend",
      "type": "service",
      "version": "2.1.0",
      "artifacts": [
        {
          "name": "web-app",
          "type": "docker_image",
          "location": "registry.example.com/web-app:2.1.0",
          "checksum": "sha256:abc123def456"
        }
      ],
      "configuration": {
        "replicas": "3",
        "port": "80"
      },
      "healthChecks": [
        {
          "name": "http-health",
          "type": "http",
          "endpoint": "/health",
          "interval": 30,
          "timeout": 10,
          "successCriteria": "status == 200"
        }
      ]
    },
    {
      "name": "api-backend",
      "type": "service",
      "version": "2.1.0",
      "artifacts": [
        {
          "name": "api-app",
          "type": "docker_image",
          "location": "registry.example.com/api-app:2.1.0",
          "checksum": "sha256:def456ghi789"
        }
      ],
      "configuration": {
        "replicas": "5",
        "port": "8080"
      },
      "healthChecks": [
        {
          "name": "api-health",
          "type": "http",
          "endpoint": "/api/health",
          "interval": 30,
          "timeout": 10,
          "successCriteria": "status == 200"
        }
      ]
    },
    {
      "name": "database",
      "type": "database",
      "version": "13.7",
      "artifacts": [
        {
          "name": "db-migration",
          "type": "sql_script",
          "location": "migrations/v2.1.0.sql",
          "checksum": "sha256:ghi789jkl012"
        }
      ],
      "configuration": {
        "instance_class": "db.r5.large"
      },
      "healthChecks": [
        {
          "name": "db-health",
          "type": "database",
          "endpoint": "SELECT 1",
          "interval": 60,
          "timeout": 30,
          "successCriteria": "connection_successful"
        }
      ]
    }
  ],
  "dependencies": [
    {
      "component": "web-frontend",
      "dependsOn": ["api-backend"],
      "deploymentOrder": 2,
      "waitCondition": "health_check_pass"
    },
    {
      "component": "api-backend",
      "dependsOn": ["database"],
      "deploymentOrder": 1,
      "waitCondition": "database_ready"
    }
  ],
  "rollbackPlan": {
    "automaticRollback": true,
    "rollbackTimeout": 600,
    "backupStrategy": "snapshot",
    "rollbackSteps": [
      {
        "step": 1,
        "action": "Switch traffic to previous version",
        "component": "load_balancer",
        "timeout": 60
      },
      {
        "step": 2,
        "action": "Rollback database schema",
        "component": "database",
        "timeout": 300
      }
    ]
  },
  "successCriteria": [
    {
      "name": "Application Available",
      "type": "availability",
      "threshold": 0.999,
      "measurement": "uptime_percentage"
    },
    {
      "name": "Performance Acceptable",
      "type": "performance",
      "threshold": 200,
      "measurement": "response_time_ms"
    }
  ],
  "metadata": {
    "createdAt": "2024-01-15T10:00:00Z",
    "createdBy": "deployment_system",
    "estimatedDuration": 1800,
    "riskLevel": "medium",
    "businessImpact": "high",
    "complianceRequirements": ["pci_dss", "gdpr"]
  }
}
